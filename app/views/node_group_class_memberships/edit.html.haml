#sidebar= render 'shared/node_manager_sidebar'
#main
  - @node_class_id = @node_group_class_membership.node_class_id
  - @node_class = NodeClass.find_by_id(@node_class_id)
  - @node_group_id = @node_group_class_membership.node_group_id
  - @node_group = NodeGroup.find_by_id(@node_group_id)

  - remote_form_for @node_group_class_membership, :url => url_for(@node_group_class_membership), :success => "form_submit_success(request)", :failure => "alert(\'Oops!! An error occurred.\')", :html => {:id => "param_form"} do |f|
    = render f
    .element.actions
      %button Update
      or go to
      = link_to @node_group.name, node_group_path(@node_group)

  %script{:type => 'text/javascript'}
    function form_submit_success(request) {
    var jsonResponse = request.responseJSON;
    if(jsonResponse.status == "error") {
    errorMessagesElement = document.getElementById("error_messages");
    errorMessagesElement.style.display = "block";
    errorMessagesElement.innerHTML = jsonResponse.message;
    }
    else {
    alert(JSON.stringify(jsonResponse));
    }
    }
